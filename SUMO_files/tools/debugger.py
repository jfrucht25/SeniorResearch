def get_link_to_junction(lane_id):
    to_add = []
    if lane_id not in lane_connections: #goes outside network
        return ''
    connections = lane_connections[lane_id]
    for c in connections:
        if c in all_controlled_lanes:
            to_add.append(c)
        else:
            to_add.append(get_link_to_junction(c))
    return to_add


lane_connections = {'-50515734#0_0': ['50515732_0', '6056826_0'], '-50515734#1_0': ['-50515734#0_0', '6059020_0'], '-50515736#0_0': ['589551003_0'], '-50515736#1_0': ['6061634_0', '-50515736#0_0'], '-6059020_0': ['50515734#1_0', '-50515734#0_0'], '-6061634_0': ['-50515736#0_0'], '-6061634_1': ['50515736#1_0'], '130714951-AddedOnRampEdge_0': ['130714951_0'], '130714951-AddedOnRampEdge_1': ['130714951_0'], '130714951-AddedOnRampEdge_2': ['130714951_1'], '130714953_0': ['409541710_2'], '130714953_1': ['409541710_3'], '130715044_0': ['50515734#0_0'], '130715044_1': ['50515732_1', '6056826_0'], '231628321_0': ['gneE5_0'], '231628322_0': ['-231628321_0'], '397298730_0': ['6672155_1'], '397298730_1': ['6672155_2'], '397298730_2': ['6672155_3'], '409541710_0': ['231628322_0'], '409541710_1': ['397298730_0'], '409541710_2': ['397298730_1'], '409541710_3': ['397298730_2'], '470176875_0': ['130715044_0'], '470176875_1': ['130715044_1'], '470176875_2': ['6062713_0'], '470176875_3': ['6062713_1'], '50515731_0': ['50515736#0_0', '589551003_0'], '50515734#0_0': ['6059020_0', '50515734#1_0'], '50515736#0_0': ['50515736#1_0', '6061634_1'], '589551003_0': ['409541710_0', '409541710_1'], '6054631-AddedOffRampEdge_0': ['6280746_0'], '6054631-AddedOffRampEdge_1': ['130714953_0'], '6054631-AddedOffRampEdge_2': ['130714953_1'], '6054631_0': ['6054631-AddedOffRampEdge_0', '6054631-AddedOffRampEdge_1'], '6054631_1': ['6054631-AddedOffRampEdge_2'], '6056826_0': ['130714951-AddedOnRampEdge_0'], '6062713_0': ['130714951-AddedOnRampEdge_1'], '6062713_1': ['130714951-AddedOnRampEdge_2'], '6280746_0': ['50515736#0_0', '589551003_0'], '6672155_0': ['470176875_0', '470176875_1'], '6672155_1': ['470176875_2'], '6672155_2': ['470176875_3'], '6672155_3': ['470176875_4'], ':130714951-AddedOnRampNode_0_0': ['130714951_0'], ':130714951-AddedOnRampNode_0_1': ['130714951_0'], ':130714951-AddedOnRampNode_0_2': ['130714951_1'], ':2399740762_0_0': ['470176875_0'], ':2399740762_0_1': ['470176875_1'], ':2399740762_0_2': ['470176875_2'], ':2399740762_0_3': ['470176875_3'], ':2399740762_0_4': ['470176875_4'], ':2594721970_0_0': ['6672155_0'], ':2594721970_1_0': ['6672155_1'], ':2594721970_2_0': ['6672155_1'], ':2594721970_2_1': ['6672155_2'], ':2594721970_2_2': ['6672155_3'], ':49759090_0_0': ['6280746_0'], ':49759090_1_0': ['130714953_0'], ':49759090_1_1': ['130714953_1'], ':49759091_0_0': ['409541710_0'], ':49759091_0_1': ['409541710_1'], ':49759091_2_0': ['409541710_2'], ':49759091_3_0': ['409541710_3'], ':49787926_0_0': ['130714951-AddedOnRampEdge_0'], ':49787926_1_0': ['130714951-AddedOnRampEdge_1'], ':49787926_1_1': ['130714951-AddedOnRampEdge_2'], ':49787931_0_0': ['50515732_0'], ':49787931_1_0': ['6056826_0'], ':49787931_2_0': ['50515734#0_0'], ':49787931_3_0': ['50515732_1'], ':49787931_4_0': ['6056826_0'], ':49787936_0_0': ['-50515734#0_0'], ':49787936_1_0': ['6059020_0'], ':49787936_2_0': ['50515734#1_0'], ':49787936_3_0': ['-50515734#0_0'], ':49787936_4_0': ['6059020_0'], ':49787936_5_0': ['50515734#1_0'], ':49787936_6_0': ['6059020_0'], ':49807115_0_0': ['130715044_0'], ':49807115_0_1': ['130715044_1'], ':49807115_2_0': ['6062713_0'], ':49807115_3_0': ['6062713_1'], ':49831064_0_0': ['589551003_0'], ':49831064_1_0': ['50515736#0_0'], ':49831064_2_0': ['589551003_0'], ':49831064_3_0': ['50515736#0_0'], ':49831064_4_0': ['589551003_0'], ':49831064_5_0': ['589551003_0'], ':49831070_0_0': ['-50515736#0_0'], ':49831070_1_0': ['50515736#1_0'], ':49831070_2_0': ['6061634_0'], ':49831070_3_0': ['-50515736#0_0'], ':49831070_4_0': ['50515736#1_0'], ':49831070_5_0': ['6061634_1'], ':49831070_6_0': ['6061634_1'], ':49883573_0_0': ['gneE5_0'], ':49883573_1_0': ['-231628321_0'], ':6054631-AddedOffRampNode_0_0': ['6054631-AddedOffRampEdge_0'], ':6054631-AddedOffRampNode_0_1': ['6054631-AddedOffRampEdge_1'], ':6054631-AddedOffRampNode_0_2': ['6054631-AddedOffRampEdge_2'], ':cluster_2399740768_2594721961_0_0': ['231628322_0'], ':cluster_2399740768_2594721961_1_0': ['397298730_0'], ':cluster_2399740768_2594721961_1_1': ['397298730_1'], ':cluster_2399740768_2594721961_1_2': ['397298730_2'], 'gneE5_0': ['6672155_0', '6672155_1']}
all_controlled_lanes =['gneE5_0', 'gneE5_0', '397298730_0', '397298730_1', '397298730_2', '6054631-AddedOffRampEdge_0', '6054631-AddedOffRampEdge_1', '6054631-AddedOffRampEdge_2', '589551003_0', '589551003_0', '130714953_0', '130714953_1', '6056826_0', '6062713_0', '6062713_1', '-50515734#0_0', '-50515734#0_0', '130715044_0', '130715044_1', '130715044_1', '-50515734#1_0', '-50515734#1_0', '-6059020_0', '-6059020_0', '50515734#0_0', '50515734#0_0', '470176875_0', '470176875_1', '470176875_2', '470176875_3', '-50515736#0_0', '50515731_0', '50515731_0', '6280746_0', '6280746_0', '-6061634_0', '-6061634_1', '-50515736#1_0', '-50515736#1_0', '50515736#0_0', '50515736#0_0', '409541710_0', '409541710_1', '409541710_2', '409541710_3']
junction_connections = {lane_id: get_link_to_junction(lane_id) for lane_id in all_controlled_lanes}